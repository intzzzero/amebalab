---
title: "[작성중] 2022년 회고"
date: "2023-01-01"
update: "2023-01-02"
draft: false
category: "think"
path: "/blog/good-bye-2022"
---

# 1분기

## 주요 이슈

- 쇼핑몰 개편
  - 스크린, 테마 개발
  - 리뷰 카운트, 평점, 판매량 업데이트 프로세스 수정
  - 반품/교환 프로세스 수정
- 유료회원 정기결제 프로세스 고도화
- 알림톡, 푸쉬알림 점검
- 쿠폰 시스템 개발
- api 서버와 크론서버 분리
- 풀필먼트 업체 변경
  - api 연동
  - 신규 테이블 생성
  - 동일상품과 관련된 기존 데이터 업데이트
- 외주 프로젝트 개발
  - [우도퀴즈](http://www.woodoquiz.com/)

1분기에는 쇼핑몰 개편이 가장 큰 이슈였다. 특히 기존에 하드코딩으로 작업하여 한 번 변경하려면 앱 업데이트를 해야했던 메인화면의 레이아웃을 어드민에서 설정값만 수정해도 추가/수정/삭제가 가능하도록 모듈시스템을 도입하는 것이 관건이었다. 이것을 어떻게 구현하는 게 좋을까 오랜 기간 고민한 끝에 상품목록의 스크롤 방향, 썸네일의 크기, 보여지는 상품 수 등을 설정하는 '테마'와 이런 테마들을 리스트로 저장하고 저장된 순서대로 한 화면에 보여주는 '스크린'으로 스키마를 구성했다. 테마의 타입은 상품 썸네일을 보여주는 item, 쿠폰을 발급할 수 있는 button, 특정 페이지로 이동하거나 정보를 제공하는 banner 등으로 나누었고, 이러한 여러 테마들을 스크린의 각 row마다 리스트 형태로 저장하는 column이 존재한다. 이를 통해 각 화면에 보여지는 요소들을 DB 조작만으로 추가/수정/삭제할 수 있도록 하였다.
초기에는 심플하게 설계하였는데, 기획 단계에는 없던 컬러설정, 카테고리 노출 여부, 상품 정렬 순서 등의 추가 요청들로 테마 테이블에 다수의 column이 추가되어 현재는 상당히 복잡한 구조가 되어버렸다. 1년이 다 되도록 우선순위에 밀려 여태 어드민은 개발하지 못했고, 매번 내가 직접 쿼리를 작성하여 수정하는데... 아직 어드민 개발 계획도 잡혀있지 않지만 언젠가 개발하게 될 그날이 벌써 조금 두렵다.
<br /><br />
기존에 이용하던 풀필먼트 업체와의 계약이 종료되고 다른 업체의 api를 이용하게 되었다. 처음에 생각했던 것과는 달리 막상 작업해보니 상당히 손이 많이 가는 작업이었는데, 단순히 api 연동만 하면 되는 게 아니었다. 결제 이후에 주문이 들어가는 프로세스나, 주문취소 요청 후 결과 확인 후 환불 프로세스를 진행해야 하는 등 트랜잭션을 고려해야 하는 부분들도 같이 수정되어야 했기 때문이다. 무엇보다도 상품의 PK가 다르기 때문에 신규 테이블에 상품데이터를 추가해야 했는데, 당연히 필드명도 기존과 상이했고 그동안 쌓인 데이터들에 대한 무결성을 유지하기가 상당히 힘이 들었다. 테이블과 필드를 하나하나 대조하며 쿼리실행계획을 세우고 신중하게 진행해야만 했다. 그럼에도 불구하고 이후에 지속적으로 누락된 부분을 발견하고 그때마다 수정해야만 했다.
<br /><br />
대표님을 통해 외주개발을 하나 하게 되었다. 재밌게도 프론트와 백으로 나누어 한 게 아니라 프로세스별로 나누어 각 프로세스에 필요한 프론트와 백을 모두 개발하게 되었다. 이게 되나 싶었지만 막상 해보니 장점도 있고 단점도 있었다. 장점이라면 화면을 만들며 필요한 api를 그때그때 직접 제작하고 붙일 수 있다는 점이었고, 단점이라면 프로세스 단위로 나누어 급하게 작업하다 보니 프론트나 백이나 일관성이 다소 떨어진다는 점이다.
꽤 오랜만에 리액트를 하기도 했고, react-router-dom v6는 처음 사용하다 보니 초반에는 상당히 헤맸던 기억이 난다.

<br /><br />

## 2분기

- 최소구매수량
- FCM
- sql 세션
  - db 계정 생성, 권한 부여
- 쿠폰팩
  - 쿠폰 발급 및 사용 조건
- amplify
- 와이펫
- 트랜잭션
- 트릿
- UTC 이슈
- 개발자 면접 - JD 작성

<br /><br />

## 3분기

- aws 해킹 후 조치
  - 서버 복구
  - aws support case
  - 후속조치
  - 보안강화
  - 메가존
- 첫 구매 100원
- 포인트 차감 오류
  - foreach 비동기 이슈
- 컨퍼런스 [개발자 컨퍼런스 주니어 개발자? Super 주니어 개발자! - 이벤터스](https://event-us.kr/45142)
- aws cognito
- s3 multer
- IAM
- 파이썬 학습
  - 크롤러 개발
- 크롤러 개발
- 사무실 이전
- 인원 감축

<br /><br />

## 4분기

- 솔라피 적용
  - 버전 이슈
  - 서버환경 재구축
- 미디어 스트림
- 그린랩스 컨퍼런스 [그린랩스 Dev Dive 2022 <함수형 개발자로 성장하기> - 이벤터스](https://event-us.kr/49634)
- 서버 환경 교체 및 솔라피 적용
- ::DB 날려먹음::
  - 스냅샷으로 복구
  - 파라미터 그룹
  - 시간대 이슈
  - 보안그룸
- 레거시 리펙토링
  - 커넥션 일원화
- 프로젝트 분리
- 네이버 리뷰 크롤러 개발
- 앱 크롤러 개발
  - 프록시, 안드로이드스튜디오
- 카카오 리뷰 크롤러 개발
- 신규 서비스 기획

<br /><br />

## 2023년 목표

1. vim 익숙해지기
2. DB 깊은 공부
   1. 작동원리
   2. 설계
   3. 쿼리 최적화
3. 매월 일반서적 1권, 기술서적 1권 읽기
4. Nest.js로 토이프로젝트
